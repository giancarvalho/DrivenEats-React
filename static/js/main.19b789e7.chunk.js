(this.webpackJsonpfoodcamp=this.webpackJsonpfoodcamp||[]).push([[0],{29:function(e,t,c){"use strict";c.r(t);var r=c(16),n=c.n(r),a=c(11),i=c(8),o=c(9),s=c(2),d=c(1),m=c(0);function u(e){var t=e.active,c=t.status,r=t.text;return Object(m.jsx)("div",{className:"bottom-bar ".concat(c),children:Object(m.jsx)(o.b,{to:"/review",children:Object(m.jsx)("button",{className:"checkout",children:r})})})}function j(){return Object(m.jsx)("header",{children:Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"DrivenEats"}),Object(m.jsx)("p",{children:"Sua comida em 6 minutos"})]})})}var b={dishes:[],drinks:[],desserts:[]};function l(){var e=0;return Object.keys(b).forEach((function(t){e+=function(e){var t=0;return e.forEach((function(e){return t+=e.price*e.amount})),t}(b[t])})),e.toFixed(2)}function p(e){return e>1?"(".concat(e,"x)"):""}function O(){return Object.keys(b).map((function(e){return function(e){return e.map((function(e,t){return Object(m.jsxs)("li",{children:[Object(m.jsxs)("p",{children:[e.itemName," ",p(e.amount)]}),Object(m.jsxs)("p",{children:["R$",(e.price*e.amount).toFixed(2)]})]},t)}))}(b[e])}))}function h(e){var t=e.setRenderFromReview;return Object(m.jsx)("main",{children:Object(m.jsxs)("div",{className:"review-order",children:[Object(m.jsxs)("div",{className:"category",children:[Object(m.jsx)("p",{children:"Revise seu pedido"}),Object(m.jsx)("div",{className:"order-container",children:Object(m.jsxs)("ul",{children:[Object(m.jsx)(O,{}),Object(m.jsxs)("li",{className:"total",children:[Object(m.jsx)("p",{children:"TOTAL"}),Object(m.jsxs)("p",{children:["R$",l()]})]})]})})]}),Object(m.jsxs)("div",{className:"confirm-buttons",children:[Object(m.jsx)("button",{className:"confirm",onClick:function(){return function(){var e=b.dishes,t=b.drinks,c=b.desserts,r="",n="",a="";e.forEach((function(e){return r+="".concat(e.itemName," ").concat(p(e.amount),"\n")})),t.forEach((function(e){return n+="".concat(e.itemName," ").concat(p(e.amount),"\n")})),c.forEach((function(e){return a+="".concat(e.itemName," ").concat(p(e.amount),"\n")}));var i=encodeURIComponent("Ol\xe1, gostaria de fazer o pedido: \n - Prato: ".concat(r,"  \n - Bebida: ").concat(n," \n - Sobremesa: ").concat(a," \n Total: R$ ").concat(l()," \n"));window.open("https://wa.me/".concat("553099990000","?text=").concat(i),"_self")}()},children:"Tudo certo, pode pedir"}),Object(m.jsx)(o.b,{to:"/",className:"cancel",onClick:function(){return t(!0)},children:"Cancelar"})]})]})})}function x(e){var t=e.name,c=e.price,r=e.category,n=e.operation;"add"===n?function(e,t,c){b[c].push({itemName:e,price:t,amount:1})}(t,c,r):"remove"===n?function(e,t){b[e]=b[e].filter((function(e){return e.itemName!==t}))}(r,t):function(e,t,c){var r=b[t];"decrease"===c?r.forEach((function(t){t.itemName===e&&(t.amount-=1)})):r.forEach((function(t){t.itemName===e&&(t.amount+=1)}))}(t,r,n)}function f(e,t){return b[e].some((function(e){return e.itemName===t}))}function v(e){var t=e.category,c=e.readyToOrder,r=e.renderFromReview,n=e.itemData,a=n.image,o=n.name,s=n.description,u=n.price,j=Object(d.useState)("item"),b=Object(i.a)(j,2),l=b[0],p=b[1],O=Object(d.useState)(1),h=Object(i.a)(O,2),v=h[0],g=h[1];function N(){"item"===l&&(p("item selected"),f(t,o)||x({name:o,price:u,category:t,operation:"add"})),c()}function y(e,c){e.stopPropagation(),"+"===c?(g(v+1),x({name:o,category:t,operation:"increase"})):(g(v-1),x({name:o,category:t,operation:"decrease"}),v-1===0&&(p("item"),g(1),x({name:o,category:t,operation:"remove"})))}return r&&f(t,o)&&N(),Object(m.jsxs)("div",{className:l,onClick:function(){return N()},children:[Object(m.jsx)("img",{src:"assets/".concat(a),className:"image-product"}),Object(m.jsx)("p",{className:"name",children:o}),Object(m.jsx)("p",{className:"description",children:s}),Object(m.jsxs)("div",{className:"bottom-item",children:[Object(m.jsxs)("p",{children:["R$",Object(m.jsx)("span",{className:"price",children:u.toFixed(2)})]}),Object(m.jsxs)("div",{className:"amount",children:[Object(m.jsx)("button",{className:"decrease",onClick:function(e){return y(e,"-")},children:"-"}),Object(m.jsx)("span",{children:v}),Object(m.jsx)("button",{className:"increase",onClick:function(e){return y(e,"+")},children:"+"})]})]})]})}function g(e){var t=e.categoryData,c=t.description,r=t.category,n=t.items,a=e.readyToOrder,i=e.renderFromReview;return Object(m.jsxs)("div",{className:"category",children:[Object(m.jsx)("p",{children:c}),Object(m.jsx)("div",{className:"products",children:n.map((function(e,t){return Object(m.jsx)(v,{category:r,itemData:e,readyToOrder:a,renderFromReview:i},t)}))})]})}var N=[{category:"dishes",description:"Primeiro, seu prato",items:[{name:"Hamb\xfarguer",description:"Seu hamb\xfarguer tradicional",price:16.9,image:"hamburguer.jpg"},{name:"Hamb\xfarguer Vegano",description:"Feito a base de gr\xe3o de bico",price:25.9,image:"vegano.jpg"},{name:"X-Tudo Gourmet",description:"Xtudo, s\xf3 que 3x mais caro",price:39.9,image:"xtudo.jpg"}]},{category:"drinks",description:"Agora, sua bebida",items:[{name:"Coca Quente",description:"Foto meramente ilustrativa",price:4.9,image:"coca.jpg"},{name:"Coca Gelada",description:"",price:6.9,image:"coca.jpg"},{name:"Caldo de Cana",description:"Aten\xe7\xe3o, cont\xe9m cana",price:6,image:"cana.jpg"}]},{category:"desserts",description:"Por fim, sua sobremesa",items:[{name:"Brigadeiro",description:"",price:2.9,image:"brigadeiro.jpg"},{name:"Bolo de Cenoura",description:"Inclui cobertura de chocolate",price:3.9,image:"cenoura.png"},{name:"Sorvete de Chocolate",description:"Ou qual sabor estiver dispon\xedvel",price:8,image:"sorvete.jpg"}]}];function y(e){var t=e.readyToOrder,c=e.renderFromReview;return N.map((function(e,r){return Object(m.jsx)(g,{categoryData:e,readyToOrder:t,renderFromReview:c},r)}))}function w(){var e=Object(d.useState)("disabled"),t=Object(i.a)(e,2),c=t[0],r=t[1],n=Object(d.useState)("Selecione os 3 itens para fechar o pedido"),l=Object(i.a)(n,2),p=l[0],O=l[1],x=Object(d.useState)(!1),f=Object(i.a)(x,2),v=f[0],g=f[1];function N(){var e=b.dishes,t=b.drinks,c=b.desserts;e.length>0&&t.length>0&&c.length>0?(r("active"),O("Fechar pedido")):(r("disabled"),O("Selecione os 3 itens para fechar o pedido"))}return Object(m.jsxs)("div",{className:"website",children:[Object(m.jsx)(j,{}),Object(m.jsx)(o.a,{children:Object(m.jsxs)(s.c,{children:[Object(m.jsx)(s.a,{exact:!0,path:"/",render:function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("main",{children:Object(m.jsx)(y,Object(a.a)({readyToOrder:N,renderFromReview:v},e))}),Object(m.jsx)(u,Object(a.a)({active:{status:c,text:p}},e))]})}}),Object(m.jsx)(s.a,{exact:!0,path:"/review",render:function(e){return Object(m.jsx)(h,Object(a.a)({setRenderFromReview:g},e))}})]})})]})}var R=document.querySelector(".root");n.a.render(Object(m.jsx)(w,{}),R)}},[[29,1,2]]]);
//# sourceMappingURL=main.19b789e7.chunk.js.map